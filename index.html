<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Introduction to Leaflet.js for Interactive Maps</title>

    <meta name="description"
          content="Introduction to Leaflet.js, a JavaScript library for mobile-friendly interactive maps. This session will contain step-by-step instructions on how to add a map to your website and a primer on using GeoJSON objects to encode geographic data.">
    <meta name="author" content="Brice McIver">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h1>Leaflet.js</h1>

            <h3>An Open-Source JavaScript Library for Mobile-Friendly Interactive Maps</h3>

            <p>
                <small>Created by <a href="http://bricemciver.com">Brice McIver</a></small>
            </p>
        </section>

        <section>
            <section>
                <h2>History of web mapping</h2>
                <dl>
                    <dt>1993</dt>
                    <dd>Xerox PARC Map Viewer</dd>
                    <dd><img src="images/xerox_parc.jpg"/></dd>
                </dl>
                <aside class="notes">PARC stands for Palo Alto Research Center. </aside>
            </section>
            <section>
                <h2>History of web mapping</h2>
                <dl>
                    <dt>1996</dt>
                    <dd>MapQuest</dd>
                    <dd><img src="images/mapquest.gif"/></dd>
                </dl>
                <aside class="notes">First web-mapping site aimed at consumers. Turn-by-turn directions.</aside>
            </section>
            <section>
                <dl>
                    <dt>1998</dt>
                    <dd>Terraserver USA</dd>
                    <dd><img src="images/terraserver.gif"/></dd>
                </dl>
                <aside class="notes">Joint project of Microsoft and Compaq to demonstrate scalability of Windows NT Server and SQL Server</aside>
            </section>
            <section>
                <dl>
                    <dt>2004</dt>
                    <dd>OpenStreetMap</dd>
                    <dd><img src="images/osmpda1.jpg"/></dd>
                </dl>
                <aside class="notes">1.6 million registered users. Wikipedia for maps.</aside>
            </section>
            <section>
                <dl>
                    <dt>Feb 2005</dt>
                    <dd>Google Maps</dd>
                    <dd><img src="images/google_maps.jpg"/></dd>
                </dl>
                <aside class="notes">Most used web mapping site. Mobile app is most used mobile app in world.</aside>
            </section>
            <section>
                <dl>
                    <dt>June 2005</dt>
                    <dd>OpenLayers</dd>
                    <dd><img src="images/gutenkarte.png"/></dd>
                </dl>
                <aside class="notes">The first widely used open source Javascript mapping library. Surpassed by Leaflet in usage.</aside>
            </section>
        </section>

        <section>
            <dl>
                <dt><img alt="Leaflet" src="images/leaflet_logo.png"/></dt>
                <dd class="fragment">First released in 2011</dd>
                <dd class="fragment">Developed by Vladimir Agafonkin</dd>
                <dd class="fragment"><img src="images/vladimir_agafonkin.jpg"/></dd>
                <dd class="fragment">Used by <a href="https://www.flickr.com/">Flickr</a><span class="fragment">, <a
                        href="http://foursquare.com/">Foursquare</a></span><span class="fragment">, <a
                        href="http://pinterest.com/">Pinterest</a></span><span class="fragment">, <a
                        href="https://www.craigslist.org/">craigslist</a></span><span class="fragment">, <a
                        href="https://github.com/">GitHub</a></span></dd>
            </dl>
            <aside class="notes">Code size was a factor in popularity of Leaflet. Around 50KB vs just under 500KB for OpenLayers. Optimized for mobile.</aside>
        </section>

        <section>
            <section>
                <iframe src="stage1/index.html" width="800" height="600" frameborder="0" marginwidth="0"
                        marginheight="0"
                        scrolling="no" style="max-width: 100%" allowfullscreen></iframe>
            </section>
            <section>
                <pre><code data-trim style="font-size: 14px; line-height: 150%">&lt;html&gt;
                    &lt;head lang="en"&gt;
                    &lt;title&gt;Leaflet Demo&lt;/title&gt;
                    &lt;link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" /&gt;
                    &lt;script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"&gt;&lt;/script&gt;
                    &lt;/head&gt;
                    &lt;body&gt;
                    &lt;div id="map" style="height: 600px"&gt;&lt;/div&gt;
                    &lt;script&gt;
                    var osmUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
                    osmAttrib = '&copy; &lt;a href="http://openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt;
                    contributors',
                    osm = L.tileLayer(osmUrl, {maxZoom: 18, attribution: osmAttrib});

                    var map = L.map('map').setView([39.034672, -94.587095], 15).addLayer(osm);
                    L.marker([39.034672, -94.587095]).addTo(map);
                    &lt;/script&gt;
                    &lt;/body&gt;
                    &lt;/html&gt;</code></pre>
            </section>
        </section>

        <section>
            <section>
                <iframe src="stage2/index.html" width="800" height="600" frameborder="0" marginwidth="0"
                        marginheight="0"
                        scrolling="no" style="max-width: 100%" allowfullscreen></iframe>
            </section>
            <section>
                <pre><code class="javascript" data-trim style="font-size: 14px; line-height:150%;">L.marker([39.034672,
                    -94.587095])
                    .addTo(map)
                    .bindPopup('<span style="color: #b71e43; font-weight: bold">South Plaza</span><br/>' +
                    '<span style="color: #000000; font-weight:bold">816-561-5100</span><br/>' +
                    '5105 Main Street<br/>Kansas City, MO 64112')
                    .openPopup();</code></pre>
            </section>
        </section>

        <section>
            <section>
                <iframe src="stage3/index.html" width="800" height="600" frameborder="0" marginwidth="0"
                        marginheight="0"
                        scrolling="no" style="max-width: 100%" allowfullscreen></iframe>
            </section>

            <section>
                <pre><code class="javascript" data-trim style="font-size: 14px; line-height: 150%;">var deliveryArea =
                    L.polygon([
                    [39.063267,-94.571687],
                    [38.991554,-94.575668],
                    [38.99328,-94.630396],
                    [39.025985,-94.630423],
                    [39.026252,-94.627748],
                    [39.027435,-94.627286],
                    [39.028952,-94.625849],
                    [39.032919,-94.625891],
                    [39.033536,-94.621235],
                    [39.052502,-94.621321],
                    [39.057201,-94.623038],
                    [39.061949,-94.625548],
                    [39.064881,-94.621772],
                    [39.064665,-94.613038]
                    ]).addTo(map);
                    map.fitBounds(deliveryArea.getBounds());</code></pre>
            </section>
        </section>

        <section>
            <h2>Geometry Types</h2>
            <ul>
                <li>Polyline</li>
                <li>MultiPolyline</li>
                <li>Polygon</li>
                <li>MultiPolygon</li>
                <li>Rectangle</li>
                <li>Circle</li>
            </ul>
        </section>

        <section>
            <section>
                <iframe src="stage4/index.html" width="800" height="600" frameborder="0" marginwidth="0"
                        marginheight="0"
                        scrolling="no" style="max-width: 100%" allowfullscreen></iframe>
            </section>
            <section>
                <pre><code class="javascript">deliveryArea.on('mouseover', function(e) {
                    e.target.setStyle({
                    color: '#666',
                    fillColor: 'yellow'
                    });
                    });
                    deliveryArea.on('mouseout', function(e) {
                    e.target.setStyle({
                    color: '#03f',
                    fillColor: '#03f'
                    });
                    });</code></pre>
            </section>
            <section>
                <h2>Styles</h2>
                <ul>
                    <li>stroke
                        <ul>
                            <li>color</li>
                            <li>weight</li>
                            <li>opacity</li>
                        </ul>
                    </li>
                    <li>fill
                        <ul>
                            <li>fillColor</li>
                            <li>fillOpacity</li>
                        </ul>
                    </li>
                    <li>dashArray</li>
                    <li>lineCap</li>
                    <li>lineJoin</li>
                </ul>
            </section>
            <section>
                <h2>Events</h2>
                <ul>
                    <li>click</li>
                    <li>dblclick</li>
                    <li>mousedown</li>
                    <li>mouseover</li>
                    <li>mouseout</li>
                    <li>contextmenu</li>
                    <li>add</li>
                    <li>remove</li>
                    <li>popupopen</li>
                    <li>popupclose</li>
                </ul>
            </section>
        </section>
        <section>
            <section>
                <iframe src="stage5/index.html" width="800" height="600" frameborder="0" marginwidth="0"
                        marginheight="0"
                        scrolling="no" style="max-width: 100%" allowfullscreen></iframe>
            </section>
            <section>
                <h2>Tile Layer</h2>

                <p>URL template is a string of the following form:</p>
                <pre><code class="javascript">http://{s}.somedomain.com/blabla/{z}/{x}/{y}.png</code></pre>
                <ul>
                    <li><code class="javascript">{s}</code> — one of the available subdomains</li>
                    <li><code class="javascript">{z}</code> — zoom level</li>
                    <li><code class="javascript">{x}</code> and <code class="javascript">{y}</code> — tile
                        coordinates
                    </li>
                </ul>
                <p>You can use custom keys in the template like this:</p>
            <pre><code class="javascript" style="font-size: 18px">L.tileLayer('http://{s}.somedomain.com/{foo}/{z}/{x}/{y}.png',
                {foo: 'bar'});</code></pre>
            </section>
            <section>
                <h2>Example Tile Providers</h2>

                <p>MapQuest</p>

                <p>http://developer.mapquest.com/web/products/open/map</p>
                <pre><code class="javascript" style="font-size: 14px; line-height: 140%">var mqSubdomains = [
                    'otile1','otile2', 'otile3', 'otile4' ];
                    var mqTileUrlPrefix = window.location.protocol !== 'https:' ? 'http://{s}' : 'https://{s}-s';
                    // OSM Tiles attribution
                    var osmTileAttr = 'Map data © OpenStreetMap contributors, Tiles Courtesy of MapQuest';
                    var osmMapOpt = {attribution: osmTileAttr,
                    maxNativeZoom: 18,
                    maxZoom: 21,
                    subdomains: mqSubdomains};
                    L.tileLayer(mqTileUrlPrefix+'.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.jpg',osmMapOpt);
                    // Open Aerial Tiles attribution
                    var oaTileAttr = 'Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, ' +
                    'Farm Service Agency, Tiles Courtesy of MapQuest';
                    var oaMapOpt = {attribution: oaTileAttr,
                    maxNativeZoom: 18,
                    maxZoom: 21,
                    subdomains: mqSubdomains};
                    L.tileLayer(mqTileUrlPrefix+'/tiles/1.0.0/sat/{z}/{x}/{y}.jpg',oaMapOpt);</code></pre>
            </section>
            <section>
                <p>CartoDB</p>

                <p>http://cartodb.com/basemaps/</p>
                <pre><code class="javascript" style="font-size:15px">var httpPrefix =
                    'http://{s}.basemaps.cartocdn.com';
                    var httpsPrefix = 'https://cartodb-basemaps-{s}.global.ssl.fastly.net';
                    var cdbTileUrlPrefix = window.location.protocol !== 'https:' ? httpPrefix : httpsPrefix;
                    var cdbMapOpt = {attribution: '&copy; OpenStreetMap contributors, &copy; CartoDB'};
                    L.tileLayer(cdbTileUrlPrefix+'/&lt;version&gt;/{z}/{x}/{y}.png',cdbMapOpt);</code></pre>
                <ul>
                    <li>Positron - light_all</li>
                    <li>Positron (no labels) - light_nolabels</li>
                    <li>Dark Matter - dark_all</li>
                    <li>Dark Matter (no labels) - dark_nolabels</li>
                </ul>
            </section>
            <section>
                <p>ESRI</p>

                <p>http://server.arcgisonline.com/ArcGIS/rest/services</p>
                <ul>
                    <li>Streets</li>
                    <li>Topographic</li>
                    <li>National Geographic</li>
                    <li>Imagery</li>
                    <li>Shaded Relief</li>
                    <li>Terrain</li>
                </ul>
                <aside class="notes">ESRI stands for Environmental System Research Institute</aside>
            </section>
            <section>
                <p>Stamen Design</p>

                <p>http://maps.stamen.com</p>
                <ul>
                    <li>Toner</li>
                    <li>Terrain</li>
                    <li>Watercolor</li>
                </ul>
            </section>
            <section>
                <p>Mapbox</p>

                <p>https://www.mapbox.com/developers/api/maps/</p>
                <ul>
                    <li>Requires an API key</li>
                    <li>Free up to 50,000 views / month</li>
                </ul>
            </section>
            <section>
                <p>Plugins by Pabel Shramov</p>

                <p>https://github.com/shramov/leaflet-plugins</p>
                <ul>
                    <li>Bing</li>
                    <li>Google</li>
                    <li>Yandex</li>
                </ul>
            </section>
        </section>
        <section>
            <iframe src="stage6/index.html" width="800" height="600" frameborder="0" marginwidth="0"
                    marginheight="0"
                    scrolling="no" style="max-width: 100%" allowfullscreen></iframe>
        </section>
    </div>

</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, condition: function () {
                return !!document.querySelector('pre code');
            }, callback: function () {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });

</script>

</body>
</html>

